defmodule TTFMetrics.Table.CmapTest do
  use ExUnit.Case

  test "it parses cmaps" do
    data =
      <<0, 0, 0, 5, 0, 0, 0, 3, 0, 0, 0, 44, 0, 0, 0, 10, 0, 0, 7, 204, 0, 1, 0, 0, 0, 0, 20, 228,
        0, 3, 0, 1, 0, 0, 0, 44, 0, 3, 0, 10, 0, 0, 7, 204, 0, 4, 7, 160, 0, 0, 1, 228, 1, 0, 0,
        7, 0, 228, 0, 0, 0, 126, 2, 233, 2, 238, 2, 243, 2, 247, 3, 79, 3, 83, 3, 88, 3, 90, 3,
        98, 3, 119, 3, 126, 3, 138, 3, 140, 3, 161, 5, 37, 5, 86, 5, 95, 5, 135, 5, 138, 5, 195,
        5, 199, 5, 234, 5, 244, 6, 7, 6, 10, 6, 12, 6, 21, 6, 27, 6, 31, 6, 58, 6, 85, 6, 87, 6,
        90, 6, 112, 6, 116, 6, 191, 6, 200, 6, 204, 6, 206, 6, 208, 6, 213, 6, 249, 7, 231, 7,
        245, 7, 250, 14, 63, 14, 130, 14, 132, 14, 136, 14, 138, 14, 141, 14, 151, 14, 159, 14,
        163, 14, 165, 14, 167, 14, 171, 14, 185, 14, 189, 14, 196, 14, 198, 14, 205, 14, 217, 14,
        221, 16, 197, 16, 252, 20, 7, 20, 27, 20, 53, 20, 74, 20, 82, 20, 189, 20, 234, 21, 7, 21,
        62, 21, 80, 21, 106, 21, 133, 21, 150, 21, 175, 21, 222, 21, 225, 22, 71, 22, 118, 22,
        156, 29, 20, 29, 35, 29, 46, 29, 91, 29, 106, 29, 120, 29, 123, 29, 125, 29, 133, 29, 191,
        29, 201, 30, 251, 31, 21, 31, 29, 31, 69, 31, 77, 31, 87, 31, 89, 31, 91, 31, 93, 31, 125,
        31, 180, 31, 196, 31, 211, 31, 219, 31, 239, 31, 244, 31, 254, 32, 100, 32, 113, 32, 142,
        32, 156, 32, 181, 32, 186, 32, 189, 32, 209, 32, 215, 32, 220, 32, 225, 33, 9, 33, 73, 33,
        75, 33, 78, 33, 133, 33, 137, 35, 17, 35, 25, 35, 33, 35, 40, 35, 44, 35, 117, 35, 122,
        35, 125, 35, 135, 35, 148, 35, 174, 35, 207, 35, 227, 35, 229, 35, 232, 36, 35, 36, 105,
        38, 156, 38, 184, 38, 195, 38, 226, 39, 4, 39, 9, 39, 39, 39, 75, 39, 77, 39, 82, 39, 86,
        39, 94, 39, 148, 39, 175, 39, 190, 39, 198, 39, 224, 39, 235, 40, 255, 41, 7, 41, 11, 41,
        65, 41, 132, 41, 213, 41, 235, 41, 251, 42, 2, 42, 28, 42, 47, 42, 107, 42, 160, 42, 186,
        42, 250, 43, 26, 43, 36, 43, 84, 44, 119, 44, 127, 45, 37, 45, 101, 45, 111, 46, 24, 46,
        31, 46, 37, 46, 46, 77, 255, 164, 255, 166, 71, 166, 77, 166, 81, 166, 87, 166, 110, 166,
        141, 166, 149, 167, 22, 167, 31, 167, 43, 167, 65, 167, 75, 167, 83, 167, 87, 167, 103,
        167, 131, 167, 142, 167, 145, 167, 170, 167, 255, 239, 25, 240, 3, 244, 38, 244, 65, 246,
        197, 251, 6, 251, 23, 251, 54, 251, 60, 251, 62, 251, 65, 251, 68, 251, 79, 251, 163, 251,
        173, 251, 220, 251, 223, 251, 233, 251, 255, 254, 15, 254, 35, 254, 116, 254, 252, 254,
        255, 255, 253, 255, 255, 0, 0, 0, 0, 0, 32, 0, 160, 2, 236, 2, 243, 2, 247, 3, 0, 3, 81,
        3, 87, 3, 90, 3, 92, 3, 112, 3, 122, 3, 132, 3, 140, 3, 142, 3, 163, 5, 49, 5, 89, 5, 97,
        5, 137, 5, 176, 5, 198, 5, 208, 5, 240, 6, 6, 6, 9, 6, 12, 6, 21, 6, 27, 6, 31, 6, 33, 6,
        64, 6, 87, 6, 90, 6, 96, 6, 116, 6, 121, 6, 198, 6, 203, 6, 206, 6, 208, 6, 213, 6, 240,
        7, 192, 7, 235, 7, 248, 14, 63, 14, 129, 14, 132, 14, 135, 14, 138, 14, 141, 14, 148, 14,
        153, 14, 161, 14, 165, 14, 167, 14, 170, 14, 173, 14, 187, 14, 192, 14, 198, 14, 200, 14,
        208, 14, 220, 16, 160, 16, 208, 20, 1, 20, 9, 20, 29, 20, 55, 20, 76, 20, 84, 20, 192, 20,
        236, 21, 16, 21, 64, 21, 82, 21, 116, 21, 138, 21, 160, 21, 222, 21, 225, 22, 70, 22, 110,
        22, 128, 29, 0, 29, 22, 29, 38, 29, 48, 29, 93, 29, 119, 29, 123, 29, 125, 29, 133, 29,
        155, 29, 196, 30, 0, 31, 0, 31, 24, 31, 32, 31, 72, 31, 80, 31, 89, 31, 91, 31, 93, 31,
        95, 31, 128, 31, 182, 31, 198, 31, 214, 31, 221, 31, 242, 31, 246, 32, 0, 32, 106, 32,
        116, 32, 144, 32, 160, 32, 184, 32, 189, 32, 208, 32, 214, 32, 219, 32, 225, 33, 0, 33,
        11, 33, 75, 33, 78, 33, 80, 33, 137, 33, 144, 35, 24, 35, 28, 35, 36, 35, 43, 35, 115, 35,
        122, 35, 125, 35, 135, 35, 148, 35, 155, 35, 206, 35, 227, 35, 229, 35, 232, 36, 34, 36,
        96, 37, 0, 38, 158, 38, 192, 38, 226, 39, 1, 39, 6, 39, 12, 39, 41, 39, 77, 39, 79, 39,
        86, 39, 88, 39, 97, 39, 152, 39, 177, 39, 197, 39, 224, 39, 230, 39, 240, 41, 6, 41, 10,
        41, 64, 41, 131, 41, 206, 41, 235, 41, 250, 42, 0, 42, 12, 42, 47, 42, 106, 42, 125, 42,
        174, 42, 249, 43, 0, 43, 31, 43, 83, 44, 96, 44, 121, 45, 0, 45, 48, 45, 111, 46, 24, 46,
        31, 46, 34, 46, 46, 77, 192, 164, 208, 166, 68, 166, 76, 166, 80, 166, 84, 166, 98, 166,
        138, 166, 148, 167, 8, 167, 27, 167, 34, 167, 48, 167, 70, 167, 78, 167, 86, 167, 100,
        167, 128, 167, 137, 167, 144, 167, 160, 167, 248, 239, 0, 240, 0, 244, 0, 244, 40, 246,
        197, 251, 0, 251, 19, 251, 29, 251, 56, 251, 62, 251, 64, 251, 67, 251, 70, 251, 82, 251,
        170, 251, 211, 251, 222, 251, 228, 251, 252, 254, 0, 254, 32, 254, 112, 254, 118, 254,
        255, 255, 249, 255, 255, 0, 0, 255, 227, 255, 194, 255, 192, 255, 188, 255, 185, 255, 177,
        255, 176, 255, 173, 255, 172, 255, 171, 255, 158, 255, 156, 255, 151, 255, 150, 255, 149,
        255, 148, 255, 137, 255, 135, 255, 134, 255, 133, 255, 96, 255, 94, 255, 86, 255, 81, 255,
        64, 255, 63, 255, 62, 255, 54, 255, 49, 255, 46, 255, 45, 255, 40, 255, 39, 255, 37, 255,
        32, 255, 29, 255, 25, 255, 19, 255, 17, 255, 16, 255, 15, 255, 11, 254, 241, 254, 43, 254,
        40, 254, 38, 247, 226, 247, 161, 247, 160, 247, 158, 247, 157, 247, 155, 247, 149, 247,
        148, 247, 147, 247, 146, 247, 145, 247, 143, 247, 142, 247, 141, 247, 139, 247, 138, 247,
        137, 247, 135, 247, 133, 245, 195, 245, 185, 242, 181, 242, 180, 242, 179, 242, 178, 242,
        177, 242, 176, 242, 174, 242, 173, 242, 165, 242, 164, 242, 163, 242, 154, 242, 150, 242,
        141, 242, 95, 242, 93, 241, 249, 241, 211, 241, 202, 235, 103, 235, 102, 235, 100, 235,
        99, 235, 98, 235, 86, 235, 84, 235, 83, 235, 76, 235, 55, 235, 51, 234, 253, 234, 249,
        234, 247, 234, 245, 234, 243, 234, 241, 234, 240, 234, 239, 234, 238, 234, 237, 234, 235,
        234, 234, 234, 233, 234, 231, 234, 230, 234, 228, 234, 227, 234, 226, 234, 221, 234, 219,
        234, 218, 234, 215, 234, 213, 234, 211, 234, 193, 234, 189, 234, 186, 234, 182, 234, 152,
        234, 151, 234, 150, 234, 148, 234, 147, 234, 144, 234, 138, 234, 132, 234, 130, 234, 128,
        234, 126, 234, 56, 234, 52, 234, 50, 234, 41, 234, 29, 234, 23, 233, 248, 233, 229, 233,
        228, 233, 226, 233, 169, 233, 109, 232, 215, 232, 214, 232, 207, 232, 177, 232, 147, 232,
        146, 232, 144, 232, 143, 232, 142, 232, 141, 232, 138, 232, 137, 232, 135, 232, 132, 232,
        131, 232, 125, 232, 100, 232, 95, 232, 91, 232, 85, 232, 83, 232, 31, 231, 222, 231, 149,
        231, 128, 231, 114, 231, 110, 231, 101, 231, 83, 231, 25, 231, 8, 230, 251, 230, 189, 230,
        184, 230, 180, 230, 134, 229, 123, 229, 122, 228, 250, 228, 240, 228, 231, 228, 63, 228,
        57, 228, 55, 228, 47, 196, 158, 109, 206, 108, 138, 108, 134, 108, 132, 108, 130, 108,
        120, 108, 93, 108, 87, 107, 229, 107, 225, 107, 223, 107, 219, 107, 215, 107, 213, 107,
        211, 107, 199, 107, 175, 107, 170, 107, 169, 107, 155, 107, 78, 36, 78, 35, 104, 31, 108,
        31, 107, 28, 232, 24, 174, 24, 162, 24, 157, 24, 156, 24, 155, 24, 154, 24, 153, 24, 152,
        24, 150, 24, 144, 24, 107, 24, 106, 24, 102, 24, 84, 22, 84, 22, 68, 21, 248, 21, 247, 21,
        245, 20, 252, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 13, 24, 0, 0, 0, 0, 0, 0, 1, 22, 0, 0,
        0, 32, 0, 0, 0, 126, 0, 0, 0, 3, 0, 0, 0, 160, 0, 0, 2, 233, 0, 0, 0, 98, 0, 0, 2, 236, 0,
        0, 2, 238, 0, 0, 2, 172, 0, 0, 2, 243, 0, 0, 2, 243, 0, 0, 2, 175, 0, 0, 2, 247, 0, 0, 2,
        247, 0, 0, 2, 176, 0, 0, 3, 0, 0, 0, 3, 79, 0, 0, 2, 177, 0, 0, 3, 81, 0, 0, 3, 83, 0, 0,
        3, 1, 0, 0, 3, 87, 0, 0, 3, 88, 0, 0, 3, 4, 0, 0, 3, 90, 0, 0, 3, 90, 0, 0, 3, 6, 0, 0, 3,
        92, 0, 0, 3, 98, 0, 0, 3, 7, 0, 0, 3, 112, 0, 0, 3, 119, 0, 0, 3, 14, 0, 0, 3, 122, 0, 0,
        3, 126, 0, 0, 3, 22, 0, 0, 3, 132, 0, 0, 3, 138, 0, 0, 3, 27, 0, 0, 3, 140, 0, 0, 3, 140,
        0, 0, 3, 34, 0, 0, 3, 142, 0, 0, 3, 161, 0, 0, 3, 35, 0, 0, 3, 163, 0, 0, 5, 37, 0, 0, 3,
        55, 0, 0, 5, 49, 0, 0, 5, 86, 0, 0, 4, 186, 0, 0, 5, 89, 0, 0, 5, 95, 0, 0, 4, 224, 0, 0,
        5, 97, 0, 0, 5, 135, 0, 0, 4, 231, 0, 0, 5, 137, 0, 0, 5, 138, 0, 0, 5, 14, 0, 0, 5, 176,
        0, 0, 5, 195, 0, 0, 5, 16, 0, 0, 5, 198, 0, 0, 5, 199, 0, 0, 5, 36, 0, 0, 5, 208, 0, 0, 5,
        234, 0, 0, 5, 38, 0, 0, 5, 240, 0, 0, 5, 244, 0, 0, 5, 65, 0, 0, 6, 6, 0, 0, 6, 7, 0, 0,
        5, 70, 0, 0, 6, 9, 0, 0, 6, 10, 0, 0, 5, 72, 0, 0, 6, 12, 0, 0, 6, 12, 0, 0, 5, 74, 0, 0,
        6, 21, 0, 0, 6, 21, 0, 0, 5, 75, 0, 0, 6, 27, 0, 0, 6, 27, 0, 0, 5, 76, 0, 0, 6, 31, 0, 0,
        6, 31, 0, 0, 5, 77, 0, 0, 6, 33, 0, 0, 6, 58, 0, 0, 5, 78, 0, 0, 6, 64, 0, 0, 6, 85, 0, 0,
        5, 104, 0, 0, 6, 87, 0, 0, 6, 87, 0, 0, 5, 126, 0, 0, 6, 90, 0, 0, 6, 90, 0, 0, 5, 127, 0,
        0, 6, 96, 0, 0, 6, 112, 0, 0, 5, 128, 0, 0, 6, 116, 0, 0, 6, 116, 0, 0, 5, 145, 0, 0, 6,
        121, 0, 0, 6, 191, 0, 0, 5, 146, 0, 0, 6, 198, 0, 0, 6, 200, 0, 0, 5, 217, 0, 0, 6, 203,
        0, 0, 6, 204, 0, 0, 5, 220, 0, 0, 6, 206, 0, 0, 6, 206, 0, 0, 5, 222, 0, 0, 6, 208, 0, 0,
        6, 208, 0, 0, 5, 223, 0, 0, 6, 213, 0, 0, 6, 213, 0, 0, 5, 224, 0, 0, 6, 240, 0, 0, 6,
        249, 0, 0, 5, 225, 0, 0, 7, 192, 0, 0, 7, 231, 0, 0, 5, 235, 0, 0, 7, 235, 0, 0, 7, 245,
        0, 0, 6, 19, 0, 0, 7, 248, 0, 0, 7, 250, 0, 0, 6, 30, 0, 0, 14, 63, 0, 0, 14, 63, 0, 0, 6,
        33, 0, 0, 14, 129, 0, 0, 14, 130, 0, 0, 6, 34, 0, 0, 14, 132, 0, 0, 14, 132, 0, 0, 6, 36,
        0, 0, 14, 135, 0, 0, 14, 136, 0, 0, 6, 37, 0, 0, 14, 138, 0, 0, 14, 138, 0, 0, 6, 39, 0,
        0, 14, 141, 0, 0, 14, 141, 0, 0, 6, 40, 0, 0, 14, 148, 0, 0, 14, 151, 0, 0, 6, 41, 0, 0,
        14, 153, 0, 0, 14, 159, 0, 0, 6, 45, 0, 0, 14, 161, 0, 0, 14, 163, 0, 0, 6, 52, 0, 0, 14,
        165, 0, 0, 14, 165, 0, 0, 6, 55, 0, 0, 14, 167, 0, 0, 14, 167, 0, 0, 6, 56, 0, 0, 14, 170,
        0, 0, 14, 171, 0, 0, 6, 57, 0, 0, 14, 173, 0, 0, 14, 185, 0, 0, 6, 59, 0, 0, 14, 187, 0,
        0, 14, 189, 0, 0, 6, 72, 0, 0, 14, 192, 0, 0, 14, 196, 0, 0, 6, 75, 0, 0, 14, 198, 0, 0,
        14, 198, 0, 0, 6, 80, 0, 0, 14, 200, 0, 0, 14, 205, 0, 0, 6, 81, 0, 0, 14, 208, 0, 0, 14,
        217, 0, 0, 6, 87, 0, 0, 14, 220, 0, 0, 14, 221, 0, 0, 6, 97, 0, 0, 16, 160, 0, 0, 16, 197,
        0, 0, 6, 99, 0, 0, 16, 208, 0, 0, 16, 252, 0, 0, 6, 137, 0, 0, 20, 1, 0, 0, 20, 7, 0, 0,
        6, 182, 0, 0, 20, 9, 0, 0, 20, 27, 0, 0, 6, 189, 0, 0, 20, 29, 0, 0, 20, 53, 0, 0, 6, 208,
        0, 0, 20, 55, 0, 0, 20, 74, 0, 0, 6, 233, 0, 0, 20, 76, 0, 0, 20, 82, 0, 0, 6, 253, 0, 0,
        20, 84, 0, 0, 20, 189, 0, 0, 7, 4, 0, 0, 20, 192, 0, 0, 20, 234, 0, 0, 7, 110, 0, 0, 20,
        236, 0, 0, 21, 7, 0, 0, 7, 153, 0, 0, 21, 16, 0, 0, 21, 62, 0, 0, 7, 181, 0, 0, 21, 64, 0,
        0, 21, 80, 0, 0, 7, 228, 0, 0, 21, 82, 0, 0, 21, 106, 0, 0, 7, 245, 0, 0, 21, 116, 0, 0,
        21, 133, 0, 0, 8, 14, 0, 0, 21, 138, 0, 0, 21, 150, 0, 0, 8, 32, 0, 0, 21, 160, 0, 0, 21,
        175, 0, 0, 8, 45, 0, 0, 21, 222, 0, 0, 21, 222, 0, 0, 8, 61, 0, 0, 21, 225, 0, 0, 21, 225,
        0, 0, 8, 62, 0, 0, 22, 70, 0, 0, 22, 71, 0, 0, 8, 63, 0, 0, 22, 110, 0, 0, 22, 118, 0, 0,
        8, 65, 0, 0, 22, 128, 0, 0, 22, 156, 0, 0, 8, 74, 0, 0, 29, 0, 0, 0, 29, 20, 0, 0, 8, 103,
        0, 0, 29, 22, 0, 0, 29, 35, 0, 0, 8, 124, 0, 0, 29, 38, 0, 0, 29, 46, 0, 0, 8, 138, 0, 0,
        29, 48, 0, 0, 29, 91, 0, 0, 8, 147, 0, 0, 29, 93, 0, 0, 29, 106, 0, 0, 8, 191, 0, 0, 29,
        119, 0, 0, 29, 120, 0, 0, 8, 205, 0, 0, 29, 123, 0, 0, 29, 123, 0, 0, 8, 207, 0, 0, 29,
        125, 0, 0, 29, 125, 0, 0, 8, 208, 0, 0, 29, 133, 0, 0, 29, 133, 0, 0, 8, 209, 0, 0, 29,
        155, 0, 0, 29, 191, 0, 0, 8, 210, 0, 0, 29, 196, 0, 0, 29, 201, 0, 0, 8, 247, 0, 0, 30, 0,
        0, 0, 30, 251, 0, 0, 8, 253, 0, 0, 31, 0, 0, 0, 31, 21, 0, 0, 9, 249, 0, 0, 31, 24, 0, 0,
        31, 29, 0, 0, 10, 15, 0, 0, 31, 32, 0, 0, 31, 69, 0, 0, 10, 21, 0, 0, 31, 72, 0, 0, 31,
        77, 0, 0, 10, 59, 0, 0, 31, 80, 0, 0, 31, 87, 0, 0, 10, 65, 0, 0, 31, 89, 0, 0, 31, 89, 0,
        0, 10, 73, 0, 0, 31, 91, 0, 0, 31, 91, 0, 0, 10, 74, 0, 0, 31, 93, 0, 0, 31, 93, 0, 0, 10,
        75, 0, 0, 31, 95, 0, 0, 31, 125, 0, 0, 10, 76, 0, 0, 31, 128, 0, 0, 31, 180, 0, 0, 10,
        107, 0, 0, 31, 182, 0, 0, 31, 196, 0, 0, 10, 160, 0, 0, 31, 198, 0, 0, 31, 211, 0, 0, 10,
        175, 0, 0, 31, 214, 0, 0, 31, 219, 0, 0, 10, 189, 0, 0, 31, 221, 0, 0, 31, 239, 0, 0, 10,
        195, 0, 0, 31, 242, 0, 0, 31, 244, 0, 0, 10, 214, 0, 0, 31, 246, 0, 0, 31, 254, 0, 0, 10,
        217, 0, 0, 32, 0, 0, 0, 32, 100, 0, 0, 10, 226, 0, 0, 32, 106, 0, 0, 32, 113, 0, 0, 11,
        71, 0, 0, 32, 116, 0, 0, 32, 142, 0, 0, 11, 79, 0, 0, 32, 144, 0, 0, 32, 156, 0, 0, 11,
        106, 0, 0, 32, 160, 0, 0, 32, 181, 0, 0, 11, 119, 0, 0, 32, 184, 0, 0, 32, 186, 0, 0, 11,
        141, 0, 0, 32, 189, 0, 0, 32, 189, 0, 0, 11, 144, 0, 0, 32, 208, 0, 0, 32, 209, 0, 0, 11,
        145, 0, 0, 32, 214, 0, 0, 32, 215, 0, 0, 11, 147, 0, 0, 32, 219, 0, 0, 32, 220, 0, 0, 11,
        149, 0, 0, 32, 225, 0, 0, 32, 225, 0, 0, 11, 151, 0, 0, 33, 0, 0, 0, 33, 9, 0, 0, 11, 152,
        0, 0, 33, 11, 0, 0, 33, 73, 0, 0, 11, 162, 0, 0, 33, 75, 0, 0, 33, 75, 0, 0, 11, 225, 0,
        0, 33, 78, 0, 0, 33, 78, 0, 0, 11, 226, 0, 0, 33, 80, 0, 0, 33, 133, 0, 0, 11, 227, 0, 0,
        33, 137, 0, 0, 33, 137, 0, 0, 12, 25, 0, 0, 33, 144, 0, 0, 35, 17, 0, 0, 12, 26, 0, 0, 35,
        24, 0, 0, 35, 25, 0, 0, 13, 156, 0, 0, 35, 28, 0, 0, 35, 33, 0, 0, 13, 158, 0, 0, 35, 36,
        0, 0, 35, 40, 0, 0, 13, 164, 0, 0, 35, 43, 0, 0, 35, 44, 0, 0, 13, 169, 0, 0, 35, 115, 0,
        0, 35, 117, 0, 0, 13, 171, 0, 0, 35, 122, 0, 0, 35, 122, 0, 0, 13, 174, 0, 0, 35, 125, 0,
        0, 35, 125, 0, 0, 13, 175, 0, 0, 35, 135, 0, 0, 35, 135, 0, 0, 13, 176, 0, 0, 35, 148, 0,
        0, 35, 148, 0, 0, 13, 177, 0, 0, 35, 155, 0, 0, 35, 174, 0, 0, 13, 178, 0, 0, 35, 206, 0,
        0, 35, 207, 0, 0, 13, 198, 0, 0, 35, 227, 0, 0, 35, 227, 0, 0, 13, 200, 0, 0, 35, 229, 0,
        0, 35, 229, 0, 0, 13, 201, 0, 0, 35, 232, 0, 0, 35, 232, 0, 0, 13, 202, 0, 0, 36, 34, 0,
        0, 36, 35, 0, 0, 13, 203, 0, 0, 36, 96, 0, 0, 36, 105, 0, 0, 13, 205, 0, 0, 37, 0, 0, 0,
        38, 156, 0, 0, 13, 215, 0, 0, 38, 158, 0, 0, 38, 184, 0, 0, 15, 116, 0, 0, 38, 192, 0, 0,
        38, 195, 0, 0, 15, 143, 0, 0, 38, 226, 0, 0, 38, 226, 0, 0, 15, 147, 0, 0, 39, 1, 0, 0,
        39, 4, 0, 0, 15, 148, 0, 0, 39, 6, 0, 0, 39, 9, 0, 0, 15, 152, 0, 0, 39, 12, 0, 0, 39, 39,
        0, 0, 15, 156, 0, 0, 39, 41, 0, 0, 39, 75, 0, 0, 15, 184, 0, 0, 39, 77, 0, 0, 39, 77, 0,
        0, 15, 219, 0, 0, 39, 79, 0, 0, 39, 82, 0, 0, 15, 220, 0, 0, 39, 86, 0, 0, 39, 86, 0, 0,
        15, 224, 0, 0, 39, 88, 0, 0, 39, 94, 0, 0, 15, 225, 0, 0, 39, 97, 0, 0, 39, 148, 0, 0, 15,
        232, 0, 0, 39, 152, 0, 0, 39, 175, 0, 0, 16, 28, 0, 0, 39, 177, 0, 0, 39, 190, 0, 0, 16,
        52, 0, 0, 39, 197, 0, 0, 39, 198, 0, 0, 16, 66, 0, 0, 39, 224, 0, 0, 39, 224, 0, 0, 16,
        68, 0, 0, 39, 230, 0, 0, 39, 235, 0, 0, 16, 69, 0, 0, 39, 240, 0, 0, 40, 255, 0, 0, 16,
        75, 0, 0, 41, 6, 0, 0, 41, 7, 0, 0, 17, 91, 0, 0, 41, 10, 0, 0, 41, 11, 0, 0, 17, 93, 0,
        0, 41, 64, 0, 0, 41, 65, 0, 0, 17, 95, 0, 0, 41, 131, 0, 0, 41, 132, 0, 0, 17, 97, 0, 0,
        41, 206, 0, 0, 41, 213, 0, 0, 17, 99, 0, 0, 41, 235, 0, 0, 41, 235, 0, 0, 17, 107, 0, 0,
        41, 250, 0, 0, 41, 251, 0, 0, 17, 108, 0, 0, 42, 0, 0, 0, 42, 2, 0, 0, 17, 110, 0, 0, 42,
        12, 0, 0, 42, 28, 0, 0, 17, 113, 0, 0, 42, 47, 0, 0, 42, 47, 0, 0, 17, 130, 0, 0, 42, 106,
        0, 0, 42, 107, 0, 0, 17, 131, 0, 0, 42, 125, 0, 0, 42, 160, 0, 0, 17, 133, 0, 0, 42, 174,
        0, 0, 42, 186, 0, 0, 17, 169, 0, 0, 42, 249, 0, 0, 42, 250, 0, 0, 17, 182, 0, 0, 43, 0, 0,
        0, 43, 26, 0, 0, 17, 184, 0, 0, 43, 31, 0, 0, 43, 36, 0, 0, 17, 211, 0, 0, 43, 83, 0, 0,
        43, 84, 0, 0, 17, 217, 0, 0, 44, 96, 0, 0, 44, 119, 0, 0, 17, 219, 0, 0, 44, 121, 0, 0,
        44, 127, 0, 0, 17, 243, 0, 0, 45, 0, 0, 0, 45, 37, 0, 0, 17, 250, 0, 0, 45, 48, 0, 0, 45,
        101, 0, 0, 18, 32, 0, 0, 45, 111, 0, 0, 45, 111, 0, 0, 18, 86, 0, 0, 46, 24, 0, 0, 46, 24,
        0, 0, 18, 87, 0, 0, 46, 31, 0, 0, 46, 31, 0, 0, 18, 88, 0, 0, 46, 34, 0, 0, 46, 37, 0, 0,
        18, 89, 0, 0, 46, 46, 0, 0, 46, 46, 0, 0, 18, 93, 0, 0, 77, 192, 0, 0, 77, 255, 0, 0, 18,
        94, 0, 0, 164, 208, 0, 0, 164, 255, 0, 0, 18, 158, 0, 0, 166, 68, 0, 0, 166, 71, 0, 0, 18,
        206, 0, 0, 166, 76, 0, 0, 166, 77, 0, 0, 18, 210, 0, 0, 166, 80, 0, 0, 166, 81, 0, 0, 18,
        212, 0, 0, 166, 84, 0, 0, 166, 87, 0, 0, 18, 214, 0, 0, 166, 98, 0, 0, 166, 110, 0, 0, 18,
        218, 0, 0, 166, 138, 0, 0, 166, 141, 0, 0, 18, 231, 0, 0, 166, 148, 0, 0, 166, 149, 0, 0,
        18, 235, 0, 0, 167, 8, 0, 0, 167, 22, 0, 0, 18, 237, 0, 0, 167, 27, 0, 0, 167, 31, 0, 0,
        18, 252, 0, 0, 167, 34, 0, 0, 167, 43, 0, 0, 19, 1, 0, 0, 167, 48, 0, 0, 167, 65, 0, 0,
        19, 11, 0, 0, 167, 70, 0, 0, 167, 75, 0, 0, 19, 29, 0, 0, 167, 78, 0, 0, 167, 83, 0, 0,
        19, 35, 0, 0, 167, 86, 0, 0, 167, 87, 0, 0, 19, 41, 0, 0, 167, 100, 0, 0, 167, 103, 0, 0,
        19, 43, 0, 0, 167, 128, 0, 0, 167, 131, 0, 0, 19, 47, 0, 0, 167, 137, 0, 0, 167, 142, 0,
        0, 19, 51, 0, 0, 167, 144, 0, 0, 167, 145, 0, 0, 19, 57, 0, 0, 167, 160, 0, 0, 167, 170,
        0, 0, 19, 59, 0, 0, 167, 248, 0, 0, 167, 255, 0, 0, 19, 70, 0, 0, 239, 0, 0, 0, 239, 25,
        0, 0, 19, 78, 0, 0, 240, 0, 0, 0, 240, 3, 0, 0, 19, 104, 0, 0, 244, 0, 0, 0, 244, 38, 0,
        0, 19, 108, 0, 0, 244, 40, 0, 0, 244, 65, 0, 0, 19, 147, 0, 0, 246, 197, 0, 0, 246, 197,
        0, 0, 19, 173, 0, 0, 251, 0, 0, 0, 251, 6, 0, 0, 19, 174, 0, 0, 251, 19, 0, 0, 251, 23, 0,
        0, 19, 181, 0, 0, 251, 29, 0, 0, 251, 54, 0, 0, 19, 186, 0, 0, 251, 56, 0, 0, 251, 60, 0,
        0, 19, 212, 0, 0, 251, 62, 0, 0, 251, 62, 0, 0, 19, 217, 0, 0, 251, 64, 0, 0, 251, 65, 0,
        0, 19, 218, 0, 0, 251, 67, 0, 0, 251, 68, 0, 0, 19, 220, 0, 0, 251, 70, 0, 0, 251, 79, 0,
        0, 19, 222, 0, 0, 251, 82, 0, 0, 251, 163, 0, 0, 19, 232, 0, 0, 251, 170, 0, 0, 251, 173,
        0, 0, 20, 58, 0, 0, 251, 211, 0, 0, 251, 220, 0, 0, 20, 62, 0, 0, 251, 222, 0, 0, 251,
        223, 0, 0, 20, 72, 0, 0, 251, 228, 0, 0, 251, 233, 0, 0, 20, 74, 0, 0, 251, 252, 0, 0,
        251, 255, 0, 0, 20, 80, 0, 0, 254, 0, 0, 0, 254, 15, 0, 0, 20, 84, 0, 0, 254, 32, 0, 0,
        254, 35, 0, 0, 20, 100, 0, 0, 254, 112, 0, 0, 254, 116, 0, 0, 20, 104, 0, 0, 254, 118, 0,
        0, 254, 252, 0, 0, 20, 109, 0, 0, 254, 255, 0, 0, 254, 255, 0, 0, 20, 244, 0, 0, 255, 249,
        0, 0, 255, 253, 0, 0, 20, 245, 0, 1, 3, 0, 0, 1, 3, 30, 0, 0, 20, 250, 0, 1, 3, 32, 0, 1,
        3, 35, 0, 0, 21, 25, 0, 1, 211, 0, 0, 1, 211, 86, 0, 0, 21, 29, 0, 1, 213, 56, 0, 1, 213,
        57, 0, 0, 21, 116, 0, 1, 213, 59, 0, 1, 213, 62, 0, 0, 21, 118, 0, 1, 213, 64, 0, 1, 213,
        68, 0, 0, 21, 122, 0, 1, 213, 70, 0, 1, 213, 70, 0, 0, 21, 127, 0, 1, 213, 74, 0, 1, 213,
        80, 0, 0, 21, 128, 0, 1, 213, 82, 0, 1, 213, 107, 0, 0, 21, 135, 0, 1, 213, 160, 0, 1,
        213, 211, 0, 0, 21, 161, 0, 1, 215, 216, 0, 1, 215, 235, 0, 0, 21, 213, 0, 1, 238, 0, 0,
        1, 238, 3, 0, 0, 21, 233, 0, 1, 238, 5, 0, 1, 238, 31, 0, 0, 21, 237, 0, 1, 238, 33, 0, 1,
        238, 34, 0, 0, 22, 8, 0, 1, 238, 36, 0, 1, 238, 36, 0, 0, 22, 10, 0, 1, 238, 39, 0, 1,
        238, 39, 0, 0, 22, 11, 0, 1, 238, 41, 0, 1, 238, 50, 0, 0, 22, 12, 0, 1, 238, 52, 0, 1,
        238, 55, 0, 0, 22, 22, 0, 1, 238, 57, 0, 1, 238, 57, 0, 0, 22, 26, 0, 1, 238, 59, 0, 1,
        238, 59, 0, 0, 22, 27, 0, 1, 238, 97, 0, 1, 238, 98, 0, 0, 22, 28, 0, 1, 238, 100, 0, 1,
        238, 100, 0, 0, 22, 30, 0, 1, 238, 103, 0, 1, 238, 106, 0, 0, 22, 31, 0, 1, 238, 108, 0,
        1, 238, 114, 0, 0, 22, 35, 0, 1, 238, 116, 0, 1, 238, 119, 0, 0, 22, 42, 0, 1, 238, 121,
        0, 1, 238, 124, 0, 0, 22, 46, 0, 1, 238, 126, 0, 1, 238, 126, 0, 0, 22, 50, 0, 1, 240, 48,
        0, 1, 240, 147, 0, 0, 22, 51, 0, 1, 240, 160, 0, 1, 240, 174, 0, 0, 22, 151, 0, 1, 240,
        177, 0, 1, 240, 190, 0, 0, 22, 166, 0, 1, 240, 193, 0, 1, 240, 207, 0, 0, 22, 180, 0, 1,
        240, 209, 0, 1, 240, 223, 0, 0, 22, 195, 0, 1, 244, 45, 0, 1, 244, 46, 0, 0, 22, 210, 0,
        1, 244, 49, 0, 1, 244, 49, 0, 0, 22, 212, 0, 1, 244, 53, 0, 1, 244, 53, 0, 0, 22, 213, 0,
        1, 246, 0, 0, 1, 246, 35, 0, 0, 22, 214, 0, 1, 246, 37, 0, 1, 246, 43, 0, 0, 22, 250, 0,
        1, 246, 45, 0, 1, 246, 64, 0, 0, 23, 1, 0, 6, 2, 10, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 3,
        0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0, 12, 0, 13, 0, 14, 0, 15, 0, 16, 0,
        17, 0, 18, 0, 19, 0, 20, 0, 21, 0, 22, 0, 23, 0, 24, 0, 25, 0, 26, 0, 27, 0, 28, 0, 29, 0,
        30, 0, 31, 0, 32, 0, 33, 0, 34, 0, 35, 0, 36, 0, 37, 0, 38, 0, 39, 0, 40, 0, 41, 0, 42, 0,
        43, 0, 44, 0, 45, 0, 46, 0, 47, 0, 48, 0, 49, 0, 50, 0, 51, 0, 52, 0, 53, 0, 54, 0, 55, 0,
        56, 0, 57, 0, 58, 0, 59, 0, 60, 0, 61, 0, 62, 0, 63, 0, 64, 0, 65, 0, 66, 0, 67, 0, 68, 0,
        69, 0, 70, 0, 71, 0, 72, 0, 73, 0, 74, 0, 75, 0, 76, 0, 77, 0, 78, 0, 79, 0, 80, 0, 81, 0,
        82, 0, 83, 0, 84, 0, 85, 0, 86, 0, 87, 0, 88, 0, 89, 0, 90, 0, 91, 0, 92, 0, 93, 0, 94, 0,
        95, 0, 96, 0, 97, 0, 0, 0, 134, 0, 135, 0, 137, 0, 139, 0, 147, 0, 152, 0, 158, 0, 163, 0,
        162, 0, 164, 0, 166, 0, 165, 0, 167, 0, 169, 0, 171, 0, 170, 0, 172, 0, 173, 0, 175, 0,
        174, 0, 176, 0, 177, 0, 179, 0, 181, 0, 180, 0, 182, 0, 184, 0, 183, 0, 188, 0, 187, 0,
        189, 0, 190, 11, 2, 0, 114, 0, 100, 0, 101, 0, 105, 11, 4, 0, 120, 0, 161, 0, 112, 0, 107,
        11, 185, 0, 118, 0, 106, 12, 234, 0, 136, 0, 154, 12, 168, 0, 115, 12, 238, 12, 239, 0,
        103, 0, 119, 12, 140, 12, 155, 12, 153, 3, 84, 12, 181, 0, 108, 0, 124, 3, 61, 0, 168, 0,
        186, 0, 129, 0, 99, 0, 110, 12, 164, 1, 84, 12, 210, 12, 144, 0, 109, 0, 125, 11, 8, 0,
        98, 0, 130, 0, 133, 0, 151, 1, 20, 1, 21, 10, 245, 10, 246, 10, 254, 10, 255, 10, 250, 10,
        251, 0, 185, 14, 161, 0, 193, 1, 58, 11, 38, 11, 131, 11, 27, 11, 28, 19, 175, 19, 176,
        11, 3, 0, 121, 10, 252, 11, 0, 11, 18, 0, 132, 0, 140, 0, 131, 0, 141, 0, 138, 0, 143, 0,
        144, 0, 145, 0, 142, 0, 149, 0, 150, 0, 0, 0, 148, 0, 156, 0, 157, 0, 155, 0, 243, 2, 136,
        2, 158, 0, 113, 2, 154, 2, 155, 2, 156, 0, 122, 2, 159, 2, 157, 2, 137>>

    cmap = TTFMetrics.Table.Cmap.parse(data)

    assert 5 == length(cmap)

    map = Enum.at(cmap, 0)
    assert map.format == 4
    assert map.unicode
    assert map.language == 0
    assert length(map.code_map |> Map.keys()) == 5369
    assert map.code_map[0] == 0
    assert map.code_map[65532] == 5368
    assert map.code_map[65533] == 5369
    assert map.code_map[65535] == 0

    map = Enum.at(cmap, 1)
    assert map.format == 12
    assert map.unicode
    assert map.language == 0
    assert length(map.code_map |> Map.keys()) == 5906
    assert map.code_map[32] == 3
    assert map.code_map[33] == 4
    assert map.code_map[255] == 193
    assert map.code_map[256] == 194
    assert map.code_map[128_576] == 5908

    map = Enum.at(cmap, 2)
    assert map.format == 6
    assert map.unicode == false
    assert map.language == 0
    assert length(map.code_map |> Map.keys()) == 256
    assert map.code_map[0] == 1
    assert map.code_map[1] == 0
    assert map.code_map[254] == 669
    assert map.code_map[255] == 649

    map = Enum.at(cmap, 3)
    assert map.format == 4
    assert map.unicode
    assert map.language == 0
    assert length(map.code_map |> Map.keys()) == 5369
    assert map.code_map[0] == 0
    assert map.code_map[65532] == 5368
    assert map.code_map[65533] == 5369
    assert map.code_map[65535] == 0

    map = Enum.at(cmap, 4)
    assert map.format == 12
    assert map.unicode
    assert map.language == 0
    assert length(map.code_map |> Map.keys()) == 5906
    assert map.code_map[32] == 3
    assert map.code_map[33] == 4
    assert map.code_map[255] == 193
    assert map.code_map[256] == 194
    assert map.code_map[128_576] == 5908
  end
end
